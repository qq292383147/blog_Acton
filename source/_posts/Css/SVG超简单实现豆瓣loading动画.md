---
title: SVGè¶…ç®€å•å®ç°è±†ç“£loadingåŠ¨ç”»
date: 2019-11-02 19:02:50
tags: css
categories: css
---

è¿™æ®µæ—¶é—´åœ¨è±†ç“£ä¸Šçœ‹æœ‰ä»€ä¹ˆå‰§çš„æ—¶å€™ï¼Œå‘ç°è±†ç“£çš„loadingåŠ¨ç”»è¿˜æŒºæ£’çš„ã€‚æ‰€ä»¥å†³å®šæ¨¡ä»¿ç€æ¥å†™ä¸€ä¸ªã€‚



![æ•ˆæœå›¾](http://zhanglong292383147.gitee.io/picture_images/picture/css/88.gif)



æˆ‘é€šè¿‡`CSS3`é…åˆ`SVG`æ¥å®Œæˆè¿™æ¬¡æ¨¡ä»¿è±†ç“£çš„loadingåŠ¨ç”»ã€‚æ²¡ç”¨è¿‡`SVG`çš„ä¹Ÿä¸ç”¨æ…Œï¼Œæˆ‘ä¸‹é¢ä¼šå†™å‡ºç›¸åº”çš„å±æ€§æ–¹ä¾¿ä½ å»ç†è§£ã€‚å› ä¸ºè¿™ä¸ªçœŸçš„è¶…ç®€å•ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±ç›´å¥”ä¸»é¢˜å§

# åˆå§‹åŒ–svg

æˆ‘ä»¬éœ€è¦å…ˆå®Œæˆä¸€ä¸ªé™æ€çš„`ç¬‘è„¸`

å§‹åŒ–SVGè§†å›¾çš„å¤§å°

```svg
<svg width="100" height="100"></svg>
```

æˆ‘æŒ‡å®šäº†ä¸€ä¸ªå®½é«˜éƒ½ä¸º`100px`çš„åŒºåŸŸï¼Œ`width=â€100â€`å’Œ`width=â€100pxâ€`æ˜¯ç­‰ä»·çš„ã€‚

# ç”»å˜´å·´

æˆ‘ä»¬æŠŠ`å˜´å·´`ç»™ç”»å‡ºæ¥ï¼Œåœ¨`svg`å†…å…ˆç”»ä¸€ä¸ªåœ†

```svg
<circle class="mouth" cx="50" cy="50" r="14"></circle>
```

`cx` å’Œ `cy` å±æ€§å®šä¹‰åœ†ç‚¹çš„ `x` å’Œ `y` åæ ‡ã€‚

**çœ‹åˆ°æµè§ˆå™¨ä¸Šé¢å¤šäº†ä¸€ä¸ªå¡«å……çš„é»‘è‰²åœ†ç‚¹**



![åŸå‹](http://zhanglong292383147.gitee.io/picture_images/picture/css/89.png)



æ¥ä¸‹æ¥æˆ‘ä»¬ç»™æˆ‘ä»¬çš„å˜´å·´åŠ ä¸Š`css`æ ·å¼

```less
.mouth {
    fill: none;
    stroke: #00B51D;
    stroke-width: 5;
    stroke-linecap: round;
    stroke-dasharray: 44, 44;
    transform-origin: center;   /* transformåŠ¨ç”»æ—¶ä»¥è‡ªèº«ä¸­å¿ƒä½œä¸ºåŸºç‚¹ */
}
```

å¯¹åº”çš„å±æ€§

| csså±æ€§          | è¯´æ˜               | æ­¤å¤„             |
| ---------------- | ------------------ | ---------------- |
| fill             | å¡«å……é¢œè‰²           | none(ä¸å¡«å……)     |
| stroke           | è½®å»“çš„é¢œè‰²         | #00B51D          |
| stroke-width     | è½®å»“çš„å®½åº¦         | 5                |
| stroke-linecap   | å¼€æ”¾è·¯å¾„ä¸¤ç«¯çš„å½¢çŠ¶ | round            |
| stroke-dasharray | åˆ›å»ºè™šçº¿           | 44, 44           |
| transform-origin | æ—‹è½¬å…ƒç´ çš„åŸºç‚¹ä½ç½® | center(è‡ªèº«ä¸­å¿ƒ) |

è¿™é‡Œé‡ç‚¹è®²ä¸€ä¸‹`stroke-dasharray`ï¼Œå®ƒçš„å±æ€§å€¼å¯ä¸º`none`ã€`<dasharray>`å’Œ`inherit`ã€‚

`<dasharray>`å®ƒæ˜¯ä¸€ä¸ª`<length>`å’Œ`<percentage>`æ•°åˆ—ï¼Œæ•°ä¸æ•°ä¹‹é—´ç”¨é€—å·æˆ–è€…ç©ºç™½éš”å¼€ï¼ŒæŒ‡å®šçŸ­åˆ’çº¿å’Œç¼ºå£çš„é•¿åº¦ã€‚

> ä¸€ä¸ªå‚æ•°æ—¶ï¼š å…¶å®æ˜¯è¡¨ç¤ºè™šçº¿é•¿åº¦å’Œæ¯æ®µè™šçº¿ä¹‹é—´çš„é—´è·  
>   ä¸¤ä¸ªå‚æ•°æˆ–è€…å¤šä¸ªå‚æ•°æ—¶ï¼šä¸€ä¸ªè¡¨ç¤ºé•¿åº¦ï¼Œä¸€ä¸ªè¡¨ç¤ºé—´è·

- stroke-dasharray = '10' è¡¨ç¤ºï¼šè™šçº¿é•¿`10`ï¼Œé—´è·`10`ï¼Œç„¶åé‡å¤ è™šçº¿é•¿`10`ï¼Œé—´è·`10`
- stroke-dasharray = '10, 5' è¡¨ç¤ºï¼šè™šçº¿é•¿`10`ï¼Œé—´è·`5`ï¼Œç„¶åé‡å¤ è™šçº¿é•¿`10`ï¼Œé—´è·`5`
- stroke-dasharray = '20, 10, 5' è¡¨ç¤ºï¼šè™šçº¿é•¿`20`ï¼Œé—´è·`10`ï¼Œè™šçº¿é•¿`5`ï¼Œæ¥ç€æ˜¯é—´è·`20`ï¼Œè™šçº¿`10`ï¼Œé—´è·`5`ï¼Œä¹‹åå¼€å§‹å¦‚æ­¤å¾ªç¯

**æ ¹æ®åœ†çš„å‘¨é•¿å…¬å¼L=2Ï€rï¼Œåœ†çš„åŠå¾„r=14ï¼Œæ‰€ä»¥L=87.96452â‰ˆ88ï¼Œé‚£ä¹ˆæˆ‘ä»¬å–è™šçº¿é•¿åº¦ä¸º44ï¼Œé—´è·44åšä¸€æ¡è™šçº¿ï¼Œåˆšå¥½å°±æ˜¯åœ†å‘¨é•¿çš„ä¸€åŠã€‚**

å¯è§æ­¤æ—¶æˆ‘ä»¬çš„`å˜´å·´`éƒ¨åˆ†å·²ç»å®Œæˆäº†



![åŸå‹](http://zhanglong292383147.gitee.io/picture_images/picture/css/90.png)



# ç”»çœ¼ç›

æ¥ä¸‹æ¥å¼€å§‹ç”»`çœ¼ç›`ï¼Œæˆ‘åˆç”»äº†ä¸€ä¸ª`circle`ã€‚

```svg
<circle class="eye" cx="50" cy="50" r="14"></circle>
```



![åŸå‹](http://zhanglong292383147.gitee.io/picture_images/picture/css/91.png)



**æˆ‘ä»¬ä¾ç„¶å¯ä»¥é€šè¿‡stroke-dasharrayæ¥ç”»å‡ºä¸€å¯¹çœ¼ç›**

å…ˆæŠŠ`å˜´å·´`æ³¨é‡Šæ‰ï¼Œé¿å…å½±å“æˆ‘ä»¬è°ƒè¯•ã€‚

**stroke-dasharrayçš„è™šçº¿é•¿åº¦ä¸º0çš„æ—¶ï¼Œåˆ™å¯ä»¥å¾—åˆ°æ— æ•°ä¸ªç‚¹çŠ¶çš„åœ†ã€‚æ ¹æ®ä¸Šé¢åœ†çš„å‘¨é•¿å…¬å¼æˆ‘ä»¬å¯ä»¥å¾—åˆ°å‘¨é•¿ä¸º88ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¯1/4ä¸ªé•¿åº¦å°±ä¸º22ï¼Œæ­¤æ—¶æˆ‘ä»¬å†æŠŠé—´è·è°ƒæ•´ä¸º66ã€‚æ­¤æ—¶ä¸¤ä¸ªç‚¹çš„å‚ç›´è·ç¦»åˆšå¥½ä¸º90åº¦**

æ¥ä¸‹æ¥æˆ‘ä»¬ç»™æˆ‘ä»¬çš„çœ¼ç›åŠ ä¸Š`css`æ ·å¼

```less
.eye {
    fill: none;
    stroke: #00B51D;
    stroke-width: 5;
    stroke-linecap: round;
    stroke-dasharray: 0, 66;
}
```



![åŸå‹](http://zhanglong292383147.gitee.io/picture_images/picture/css/92.png)



ä¸ºäº†è®©å˜´å·´å¯¹é½ï¼Œæˆ‘ä»¬å·¦æ—‹è½¬`45åº¦`ï¼Œç»™`eye`åŠ ä¸Š`transform`å±æ€§

```less
transform-origin: center;
transform: rotate(-45deg);
```



![åŸå‹](http://zhanglong292383147.gitee.io/picture_images/picture/css/93.png)



è¿™æ ·å­æˆ‘ä»¬å°±å®Œæˆäº†`çœ¼ç›`äº†

# åŠ åŠ¨ç”»

ç»è¿‡æˆ‘æ— æ•°éæ…¢æ”¾ï¼ˆä¸€å¸§ä¸€å¸§ï¼‰çš„è§‚å¯Ÿè±†ç“£çš„åŠ è½½åŠ¨ç”»ï¼Œç»ˆäºæ‰¾åˆ°äº†è§„å¾‹ï¼ˆå“­ï¼‰ã€‚

## å˜´å·´åŠ¨ç”»

åŠ åŠ¨ç”»æ•ˆæœï¼Œè¿™ä¹Ÿæ˜¯æœ€æ¿€åŠ¨çš„ä¸€æ­¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹`å˜´å·´`éƒ¨åˆ†



![åŸå‹](http://zhanglong292383147.gitee.io/picture_images/picture/css/94.gif)



é€šè¿‡åŠ¨ç”»æˆ‘ä»¬å¯ä»¥çœ‹å‡º`å˜´å·´`éƒ¨åˆ†æ˜¯æ—‹è½¬äº†`ä¸¤åœˆ`çš„ï¼Œå¹¶ä¸”åœ¨æ—‹è½¬`ç¬¬ä¸€åœˆ`çš„æ—¶å€™ï¼Œä¸¤è¾¹çš„é—´è·ç¼©å°ä¸º`1/4`ï¼Œåœ¨`ç¬¬äºŒåœˆ`çš„æ—¶å€™ï¼Œé—´è·æ¢å¤ä¸º`1/2`ï¼Œä¸”æœ€åæœ‰ä¸€æ®µçš„`åœç•™æ—¶é—´`ã€‚

**æ ¹æ®æœ€åçš„ä¸€æ®µåœç•™æ—¶é—´å’Œæ—‹è½¬ä¸¤åœˆ**

æˆ‘ä»¬å¯ä»¥é€šè¿‡`transform`å®Œæˆï¼Œç®€å•

```less
@keyframes mounthAni {
    80%, 100% {
        transform: rotate(720deg);
    }
}
```

**ç¬¬ä¸€åœˆçš„æ—¶å€™ä¸¤è¾¹é—´è·ç¼©å°ä¸º1/4ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶stroke-dasharrayçš„å€¼ä¸º 44, 22ï¼Œåç»­å†æ¢å¤ä¸º1/2**

```less
@keyframes mounthAni {
    40% {
        stroke-dasharray: 44, 22;   /* é—´è·æ”¹ä¸º1/4 */
    }
    80%, 100% {
        stroke-dasharray: 44, 44;   /* é—´è·æ¢å¤ä¸º1/2 */
        transform: rotate(720deg);
    }
}
```

åŠ¨ç”»çš„è¿è¡Œé€Ÿåº¦ä¸º**å¼€å§‹å¿«ï¼Œç»“æŸæ…¢**ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨`ease-out`ä½œä¸º**è´å¡å°”æ›²çº¿å‡½æ•°å€¼**

è¿™æ ·`å˜´å·´`çš„åŠ¨ç”»å°±å®Œæˆäº†

## çœ¼ç›åŠ¨ç”»



![åŸå‹](http://zhanglong292383147.gitee.io/picture_images/picture/css/95.gif)



åŒæ ·çš„ï¼Œé€šè¿‡åŠ¨ç”»æˆ‘ä»¬å¯ä»¥çœ‹å‡º`çœ¼ç›`éƒ¨åˆ†åŒæ ·æ˜¯æ—‹è½¬äº†`ä¸¤åœˆ`ï¼Œå¹¶ä¸”åœ¨æ—‹è½¬`ç¬¬ä¸€åœˆ`çš„æ—¶å€™ï¼Œä¸¤è¾¹çš„é—´è·å¢å¤§ä¸º`7/8`ï¼Œåœ¨`ç¬¬äºŒåœˆ`çš„æ—¶å€™ï¼Œé—´è·æ¢å¤ä¸º`3/4`ï¼Œä¸”æœ€åæœ‰ä¸€æ®µçš„`åœç•™æ—¶é—´`ã€‚

```less
@keyframes eyeAni {
    40% {
        stroke-dasharray: 0, 77;    /* é—´è·æ”¹ä¸º7/8 */
    }
    80%, 100% {
        transform: rotate(675deg);  /* é—´è·æ¢å¤ä¸º3/4 */
        stroke-dasharray: 0, 66;
    }
}
```

åŠ¨ç”»çš„è¿è¡Œé€Ÿåº¦ä¸º**å¼€å§‹å’Œç»“æŸæ…¢**ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨`ease-in-out`ä½œä¸º**è´å¡å°”æ›²çº¿å‡½æ•°å€¼**

è‡³æ­¤æˆ‘ä»¬çš„`çœ¼ç›`åŠ¨ç”»ä¹Ÿå°±å®Œæˆäº†

æˆ‘ä»¬æŠŠä¸¤ä¸ªåŠ¨ç”»æ•´åˆèµ·æ¥ï¼Œè¿™æ ·å°±å®Œæˆäº†æ¨¡ä»¿è±†ç“£çš„loadingåŠ¨ç”»äº†ï¼Œç‰¹ç®€å•ã€‚



![æ•ˆæœå›¾](http://zhanglong292383147.gitee.io/picture_images/picture/css/96.gif)



# æºç 

*html*

```svg
<svg width="100" height="100">
    <circle class="mouth" cx="50" cy="50" r="14"></circle>
    <circle class="eye" cx="50" cy="50" r="14"></circle>
</svg>
```

*css*

```less
.mouth {
    fill: none;
    stroke: #00B51D;
    stroke-width: 5;
    stroke-linecap: round;
    stroke-dasharray: 44, 44;
    transform-origin: center;   /* transformåŠ¨ç”»æ—¶ä»¥è‡ªèº«ä¸­å¿ƒä½œä¸ºåŸºç‚¹ */
    animation: mounthAni 2.3s ease-out infinite;
}

.eye {
    fill: none;
    stroke: #00B51D;
    stroke-width: 5;
    stroke-linecap: round;
    stroke-dasharray: 0, 66;
    transform-origin: center;
    transform: rotate(-45deg);
    animation: eyeAni 2.3s ease-in-out infinite;
}

@keyframes mounthAni {
    40% {
        stroke-dasharray: 44, 22;   /* é—´è·æ”¹ä¸º1/4 */
    }
    80%, 100% {
        stroke-dasharray: 44, 44;   /* é—´è·æ¢å¤ä¸º1/2 */
        transform: rotate(720deg);
    }
}

@keyframes eyeAni {
    40% {
        stroke-dasharray: 0, 77;    /* é—´è·æ”¹ä¸º7/8 */
    }
    80%, 100% {
        transform: rotate(675deg);  /* é—´è·æ¢å¤ä¸º3/4 */
        stroke-dasharray: 0, 66;
    }
}
```

# æ€»ç»“

`CSS3`åŠ¨ç”»å·²è¶³å¤Ÿå¼ºå¤§ï¼Œä½†æ˜¯å¦‚æœè¦å®ç°ä¸Šé¢é‚£ç§é—´è·å¯`å˜å¤§å˜å°`çš„åŠ¨ç”»æ•ˆæœï¼Œåªç”¨`CSS`çš„è¯æˆ‘è¿˜æ˜¯æ²¡æœ‰æƒ³åˆ°æ€ä¹ˆå®ç°ï¼Œå¦‚æœå„ä½æœ‰æ–¹æ³•çš„è¯æ¬¢è¿è¯„è®ºå‘Šè¯‰æˆ‘ğŸ˜€ï¼Œæ‰€ä»¥ä½¿ç”¨äº†`SVG`åŠ `CSS`æ¥å®Œæˆï¼Œ`çœ¼ç›`éƒ¨åˆ†åŸæœ¬æƒ³è¿‡ä½¿ç”¨`animateMotion`æ¥å®Œæˆï¼Œå¥ˆä½•çœ‹äº†åŠå¤©è¿˜æ˜¯ä¸ä¼šç”¨ğŸ¤£ï¼Œæ‰€ä»¥å°±æƒ³ç€åªç”¨`CSS`çš„åŠ¨ç”»æ•ˆæœå®Œæˆäº†è¿™æ¬¡çš„åŠ¨ç”»ï¼Œæ²¡æƒ³åˆ°æ„å¤–çš„ç®€å•ï¼Œæ‰€ä»¥æŠŠæ–¹æ³•åˆ†äº«ç»™å¤§å®¶ã€‚æ•´ä¸ªloadingåŠ¨ç”»éƒ½å›´ç»•ç€`stroke-dasharray`å±•å¼€ï¼Œç”¨åˆ°çš„`SVG`å±æ€§çœŸçš„æ˜¯å†°å±±ä¸€è§’ï¼Œä¸Šé¢çš„å†…å®¹å¦‚æœæœ‰ä»€ä¹ˆé”™è¯¯çš„è¯è¿˜æœ›å„ä½å¤šå¤šæŒ‡æ•™ã€‚